<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#4f46e5">
    
    <title>Resize Image to 20kb, 50kb | Premium Photo Resizer 2025</title>
    <meta name="description" content="Best Free Online Image Resizer. Reduce photo size to 20kb, 50kb, 100kb instantly. Compress JPG, PNG for SSC, UPSC, Govt Forms without quality loss.">
    <meta name="keywords" content="resize image, photo resizer, image resizer in kb, reduce image size, photo compressor 20 kb, compress jpg to 20kb, ssc photo resizer, upsc signature resize, passport size photo maker, compress to 50kb, online image resizer">
    <meta name="author" content="Fast Tools India">

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ö°</text></svg>">

    <script src="https://unpkg.com/browser-image-compression@2.0.0/dist/browser-image-compression.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --accent: #ec4899;
            --bg: #0f172a;
            --card-bg: rgba(30, 41, 59, 0.7);
            --text: #f8fafc;
            --text-muted: #94a3b8;
            --border: rgba(255, 255, 255, 0.1);
        }
        
        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-image: 
                radial-gradient(at 0% 0%, rgba(99, 102, 241, 0.15) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(236, 72, 153, 0.15) 0px, transparent 50%);
            overflow-x: hidden;
        }

        /* ANIMATED BACKGROUND ORBS */
        .orb { position: absolute; border-radius: 50%; filter: blur(80px); z-index: -1; opacity: 0.4; }
        .orb-1 { top: -50px; left: -50px; width: 300px; height: 300px; background: var(--primary); }
        .orb-2 { bottom: -50px; right: -50px; width: 300px; height: 300px; background: var(--accent); }

        .container { width: 100%; max-width: 600px; padding: 2rem 1.5rem; display: flex; flex-direction: column; gap: 2rem; z-index: 1; }
        .hidden { display: none !important; }

        /* HEADER */
        header { text-align: center; margin-bottom: 1rem; }
        .badge {
            display: inline-block; background: linear-gradient(90deg, var(--primary), var(--accent));
            color: white; padding: 6px 16px; border-radius: 50px; font-size: 0.75rem; font-weight: 800;
            text-transform: uppercase; letter-spacing: 1px; margin-bottom: 1rem; box-shadow: 0 10px 20px -5px rgba(99, 102, 241, 0.4);
        }
        h1 { font-size: 2.5rem; font-weight: 800; margin: 0; line-height: 1.1; letter-spacing: -1px; background: linear-gradient(to right, #fff, #cbd5e1); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        p.desc { font-size: 1rem; color: var(--text-muted); margin-top: 0.5rem; max-width: 400px; margin-left: auto; margin-right: auto; }

        /* GLASS CARD */
        .card {
            background: var(--card-bg);
            backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--border);
            border-radius: 24px; padding: 2rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* UPLOAD ZONE */
        .upload-zone {
            border: 2px dashed var(--text-muted);
            background: rgba(255,255,255,0.03);
            border-radius: 16px; padding: 3rem 1rem;
            text-align: center; cursor: pointer;
            transition: all 0.3s ease;
        }
        .upload-zone:hover { border-color: var(--primary); background: rgba(99, 102, 241, 0.1); transform: translateY(-2px); }
        .upload-icon { font-size: 3rem; margin-bottom: 1rem; display: block; }
        .upload-text { font-weight: 700; font-size: 1.2rem; margin-bottom: 0.5rem; color: white; }
        .upload-sub { font-size: 0.85rem; color: var(--text-muted); }

        /* CONTROLS */
        .controls { margin-top: 2rem; }
        .slider-header { display: flex; justify-content: space-between; margin-bottom: 1rem; font-weight: 600; font-size: 0.9rem; }
        .slider-val { color: var(--accent); }
        
        input[type=range] {
            width: 100%; -webkit-appearance: none; background: rgba(255,255,255,0.1); height: 6px; border-radius: 10px; cursor: pointer;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 24px; width: 24px; border-radius: 50%; background: var(--primary);
            box-shadow: 0 0 20px var(--primary); margin-top: -9px; transition: transform 0.2s;
        }
        input[type=range]::-webkit-slider-thumb:hover { transform: scale(1.2); }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 6px; }

        /* BUTTONS */
        .btn-main {
            width: 100%; margin-top: 2rem; 
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white; border: none; padding: 1.2rem; border-radius: 16px; 
            font-size: 1.1rem; font-weight: 700; cursor: pointer; 
            box-shadow: 0 10px 30px -10px var(--primary);
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative; overflow: hidden;
        }
        .btn-main:hover { transform: translateY(-2px); box-shadow: 0 20px 40px -10px var(--primary); }
        .btn-main:active { transform: scale(0.98); }

        /* PRESETS GRID */
        .presets-title { text-align: center; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; color: var(--text-muted); margin: 3rem 0 1rem; }
        .presets { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 10px; }
        .btn-pill {
            background: rgba(255,255,255,0.05); border: 1px solid var(--border); color: var(--text-muted);
            padding: 10px; border-radius: 12px; font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: 0.3s;
        }
        .btn-pill:hover { background: var(--primary); color: white; border-color: var(--primary); }

        /* PREVIEW */
        #preview-area { margin-top: 1.5rem; }
        .img-box { position: relative; border-radius: 12px; overflow: hidden; border: 1px solid var(--border); height: 150px; }
        .img-box img { width: 100%; height: 100%; object-fit: cover; }
        .del-btn {
            position: absolute; top: 5px; right: 5px; background: rgba(0,0,0,0.8); color: white;
            border: none; width: 24px; height: 24px; border-radius: 50%; cursor: pointer;
        }

        footer { margin-top: auto; padding: 2rem; font-size: 0.8rem; color: var(--text-muted); text-align: center; }

    </style>
</head>
<body>

    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>

    <div class="container">
        
        <header>
            <span class="badge">Free Premium Tool</span>
            <h1>Resize Image <span>in KB</span></h1>
            <p class="desc">Reduce JPG/PNG size to 20kb, 50kb for Govt Forms. No quality loss.</p>
        </header>

        <div class="card">
            <div id="drop-area" class="upload-zone">
                <span class="upload-icon">üìÅ</span>
                <div class="upload-text">Tap to Upload Photo</div>
                <div class="upload-sub">Supports JPG, PNG, WEBP</div>
                <input type="file" id="file-input" accept="image/*" class="hidden">
            </div>

            <div id="preview-area" class="hidden">
                <div class="img-box" id="img-preview-box"></div>
                <div style="text-align: right; margin-top: 5px;">
                    <button onclick="resetApp()" style="background:none; border:none; color:#ef4444; cursor:pointer; font-size:0.9rem;">Remove ‚úï</button>
                </div>
            </div>

            <div class="controls" id="controls-area">
                <div class="slider-header">
                    <span>Image Quality</span>
                    <span id="quality-val" class="slider-val">75%</span>
                </div>
                <input type="range" id="quality-slider" min="1" max="100" value="75">
                
                <button id="compress-btn" class="btn-main">DOWNLOAD COMPRESSED IMAGE</button>
            </div>
        </div>

        <div>
            <div class="presets-title">Quick Resize Options</div>
            <div class="presets">
                <button onclick="setPreset(20)" class="btn-pill">üì∏ SSC (20kb)</button>
                <button onclick="setPreset(50)" class="btn-pill">üìÑ UPSC (50kb)</button>
                <button onclick="setPreset(10)" class="btn-pill">‚úçÔ∏è Sign (10kb)</button>
                <button onclick="setPreset(100)" class="btn-pill">üñºÔ∏è 100kb Photo</button>
            </div>
        </div>

        <footer>¬© 2025 FastTools ‚Ä¢ Secure Client-Side Processing</footer>
    </div>

    <script>
        // üî• YOUR DIRECT LINK CONFIGURATION üî•
        const MY_DIRECT_LINK = "https://www.effectivegatecpm.com/mya99wcxc?key=64d9a20b4180ef34ece4742665c53be0";

        // Elements
        const dropArea = document.getElementById('drop-area');
        const fileInput = document.getElementById('file-input');
        const previewArea = document.getElementById('preview-area');
        const previewBox = document.getElementById('img-preview-box');
        const slider = document.getElementById('quality-slider');
        const qualityVal = document.getElementById('quality-val');
        const btn = document.getElementById('compress-btn');
        
        let currentFile = null;

        // 1. Slider Logic
        slider.addEventListener('input', (e) => {
            qualityVal.innerText = e.target.value + "%";
        });

        // 2. Upload Handling
        dropArea.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', (e) => handleFile(e.target.files[0]));
        
        // Drag & Drop
        dropArea.addEventListener('dragover', (e) => { e.preventDefault(); dropArea.style.borderColor = '#6366f1'; });
        dropArea.addEventListener('dragleave', (e) => { e.preventDefault(); dropArea.style.borderColor = 'rgba(255,255,255,0.1)'; });
        dropArea.addEventListener('drop', (e) => {
            e.preventDefault();
            handleFile(e.dataTransfer.files[0]);
        });

        function handleFile(file) {
            if (!file) return;
            if (!file.type.startsWith('image/')) return alert("Please upload an image file!");
            
            currentFile = file;
            
            // Show Preview
            const reader = new FileReader();
            reader.onload = (e) => {
                previewBox.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
                dropArea.classList.add('hidden');
                previewArea.classList.remove('hidden');
            };
            reader.readAsDataURL(file);
        }

        // 3. Preset Logic (Smart Size)
        window.setPreset = (targetKB) => {
            if (!currentFile) { alert("Pehle Photo Upload Karein! üìÅ"); return; }
            
            // Logic: Lower KB needs lower quality
            let newQuality = 80;
            if (targetKB <= 20) newQuality = 40;
            else if (targetKB <= 50) newQuality = 60;
            else if (targetKB <= 100) newQuality = 75;
            
            slider.value = newQuality;
            qualityVal.innerText = newQuality + "%";
            
            // Highlight visual feedback
            btn.innerText = `DOWNLOAD (${targetKB}kb Mode)`;
            setTimeout(() => btn.innerText = "DOWNLOAD COMPRESSED IMAGE", 2000);
        };

        window.resetApp = () => {
            currentFile = null;
            fileInput.value = "";
            previewArea.classList.add('hidden');
            dropArea.classList.remove('hidden');
        };

        // 4. Compression & Download Logic (THE MAIN PART)
        btn.addEventListener('click', async () => {
            if (!currentFile) return alert("Please select a photo first!");

            // üí∞ TRIGGER ADSTERRA DIRECT LINK (NEW TAB)
            if(MY_DIRECT_LINK) {
                window.open(MY_DIRECT_LINK, '_blank');
            }

            // UI Loading
            const originalText = btn.innerText;
            btn.innerText = "Compressing... ‚è≥";
            btn.disabled = true;

            // Compression Options
            const quality = slider.value / 100;
            const options = {
                maxSizeMB: 1,          // Default start
                maxWidthOrHeight: 1920,
                useWebWorker: true,
                initialQuality: quality
            };

            // Smart adjustment for low quality
            if (quality < 0.5) {
                options.maxSizeMB = 0.05; // Approx 50kb target
                options.maxWidthOrHeight = 800; // Resize dimensions for small files
            }

            try {
                const compressedFile = await imageCompression(currentFile, options);
                
                // Create Download
                const link = document.createElement('a');
                link.href = URL.createObjectURL(compressedFile);
                link.download = `compressed_${currentFile.name}`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);

                btn.innerText = "Downloaded! ‚úÖ";
                setTimeout(() => {
                    btn.innerText = originalText;
                    btn.disabled = false;
                }, 2000);

            } catch (error) {
                console.error(error);
                alert("Something went wrong during compression.");
                btn.innerText = originalText;
                btn.disabled = false;
            }
        });
    </script>
</body>
</html>
